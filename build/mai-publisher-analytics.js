!function(){var t=window._paq=window._paq||[],e=maiPubAnalyticsVars.analytics,n=e[0],a=e.slice(1);function o(...t){if(!debug&&!log)return;let e="maipub analytics ";const n=Date.now(),a=(new Date).toLocaleTimeString("en-US",{hour12:!0});timestamp===n?e+="start":e+=n-timestamp+"ms",console.log(`${e} ${a}`,t)}!function(){t.push(["setTrackerUrl",n.url+"matomo.php"]),t.push(["setSiteId",n.id]);for(const e in a)t.push(["addTracker",a[e].url+"matomo.php",a[e].id]);var e=document,o=e.createElement("script"),c=e.getElementsByTagName("script")[0];o.async=!0,o.src=n.url+"matomo.js",c.parentNode.insertBefore(o,c)}(),window.matomoAsyncInit=function(){const t=new CustomEvent("beforeMaiPublisherAnalytics",{detail:maiPubAnalyticsVars,cancelable:!0});document.dispatchEvent(t);for(const t in e)try{const c=Matomo.getTracker(e[t].url+"matomo.php",e[t].id);for(const o in e[t].toPush){var n=e[t].toPush[o][0],a=e[t].toPush[o].slice(1);(a=a||null)?c[n](...a):c[n]()}const r=new CustomEvent("maiPublisherAnalyticsInit",{detail:{tracker:c},cancelable:!0});document.dispatchEvent(r),e[t].ajaxUrl&&e[t].body&&fetch(e[t].ajaxUrl,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache"},body:new URLSearchParams(e[t].body)}).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.json()})).then((function(t){})).catch((function(t){o(t)}))}catch(t){o(t)}}}();
//# sourceMappingURL=mai-publisher-analytics.js.map